# Recursive Gaming

This repo contains a general-purpose recursive scheme for turn-based games built on the [Mina blockchain](https://minaprotocol.com/). A demo implementation of the game [tic-tac-toe](https://en.wikipedia.org/wiki/Tic-tac-toe) is also presented to showcase a simple application of this general scheme, which can be extended to games like checkers, chess, battleships...

The tictactoe game was originally implemented using lookup tables, as can be seen in commit [d390035](https://github.com/zkzoomer/recursive-gaming/blob/d390035610ca2cbfbf02e5a49fb08f32566beb26/src/tictactoe-move.ts). The idea behind was verifying that every state transition in the board was part of a precommitted list, which was computed using the [`generateTables()`](https://github.com/zkzoomer/recursive-gaming/blob/0f3bbff22d8dac3cc4bc693807974bdc14e649c8/src/helpers/generate-tictactoe-tables.ts) function. It was lately scratched due to limited lookup support from o1js, and only used for the final proof settled onchain, as seen on the [`TicTacToe` smart contract](https://github.com/zkzoomer/recursive-gaming/blob/230adb9bf1a0fa857e0fd7980aed1bf3464abc88/src/tictactoe.ts), verifying that the board state is either a win state or a draw state, as precommitted to, generated by the [`generateTables()`](https://github.com/zkzoomer/recursive-gaming/blob/230adb9bf1a0fa857e0fd7980aed1bf3464abc88/src/helpers/generateLookupTables.ts) function.

Lookups are implemented using the [following PR](https://github.com/o1-labs/o1js/pull/1253). A working example, [`LookupTest`](https://github.com/zkzoomer/recursive-gaming/blob/230adb9bf1a0fa857e0fd7980aed1bf3464abc88/src/lookup.ts) and the corresponding [tests](https://github.com/zkzoomer/recursive-gaming/blob/230adb9bf1a0fa857e0fd7980aed1bf3464abc88/src/lookup.test.ts) are provided.

Built during ETHGlobal Istanbul ðŸ‡¹ðŸ‡· 2023 Hackathon.
